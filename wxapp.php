<?php
 goto lLWBt; Qxp0C: require IA_ROOT . "\x2f\141\x64\x64\157\156\163\x2f\171\143\137\171\x6f\165\154\x69\141\157\x2f\x63\154\141\163\163\57\162\145\161\x49\x6e\x66\157\56\160\x68\160"; goto Q22EY; thDDN: require IA_ROOT . "\57\x61\144\x64\x6f\156\x73\x2f\x79\143\x5f\x79\x6f\x75\x6c\x69\141\x6f\x2f\155\x6f\x64\x65\x6c\57\x49\x6e\x66\x6f\x2e\x70\x68\x70"; goto kpgzK; lLWBt: ?>
ï»¿<?php  goto OJm1e; JFyd_: require IA_ROOT . "\57\141\144\144\157\156\x73\57\x79\x63\137\171\157\165\154\x69\141\x6f\57\x6d\157\144\145\x6c\57\115\x65\155\x62\145\162\56\x70\x68\x70"; goto IPQdF; hV2LK: require IA_ROOT . "\x2f\x61\x64\144\x6f\x6e\163\x2f\x79\143\x5f\x79\157\165\x6c\x69\x61\157\57\143\154\x61\x73\x73\57\x75\x74\151\x6c\56\160\x68\160"; goto Qxp0C; IPQdF: require IA_ROOT . "\57\x61\144\144\x6f\156\163\x2f\x79\x63\x5f\171\157\x75\154\151\141\157\x2f\x6d\x6f\x64\145\x6c\x2f\x53\x68\x6f\x70\137\x70\x72\157\x2e\160\x68\x70"; goto uydSE; OJm1e: defined("\111\x4e\137\111\x41") or die("\x41\x63\143\x65\163\x73\40\104\x65\x6e\151\145\x64"); goto ZfG6_; iqK2k: require IA_ROOT . "\57\141\144\144\x6f\x6e\x73\57\171\143\137\171\x6f\165\x6c\x69\x61\157\57\x63\x6c\x61\163\x73\57\143\x6f\155\155\157\x6e\107\145\164\x44\x61\164\x61\56\160\150\x70"; goto hV2LK; uydSE: require IA_ROOT . "\57\x61\x64\144\157\x6e\x73\57\171\x63\x5f\x79\157\x75\x6c\151\x61\157\x2f\x6d\x6f\144\145\154\x2f\107\x6f\157\x64\163\56\x70\x68\160"; goto thDDN; kpgzK: require IA_ROOT . "\57\x61\x64\x64\157\156\163\x2f\x79\143\x5f\x79\x6f\x75\x6c\151\x61\157\x2f\155\x6f\144\145\154\57\120\x61\171\x52\145\x73\165\x6c\x74\x2e\160\150\160"; goto lWFS0; Q22EY: require IA_ROOT . "\x2f\x61\x64\x64\x6f\156\163\57\x79\143\x5f\x79\157\165\x6c\x69\x61\157\57\143\154\141\163\163\57\x66\165\x6e\x63\x74\x69\x6f\x6e\137\143\x6f\155\x6d\157\x6e\x2e\x63\154\x61\163\x73\x2e\x70\150\160"; goto JFyd_; ZfG6_: require IA_ROOT . "\x2f\x61\144\x64\x6f\156\163\x2f\x79\x63\x5f\x79\157\165\154\x69\141\157\57\143\154\141\163\163\x2f\144\x65\x66\151\x6e\x65\104\141\164\141\56\160\150\x70"; goto iqK2k; lWFS0: require IA_ROOT . "\x2f\x61\x64\144\x6f\x6e\x73\x2f\171\x63\137\171\x6f\x75\154\151\x61\157\57\155\x6f\x64\x65\x6c\57\x44\151\x73\x63\x6f\165\x6e\164\x2e\x70\150\160"; goto nZVjN; nZVjN: class Yc_youliaoModuleWxapp extends WeModuleWxapp { public function __construct() { $this->cfg(); } private function cfg() { goto wncLQ; wncLQ: global $_W; goto XHxy9; PhXiB: $this->module = unserialize($cfg); goto LCmb9; XHxy9: $_W["\165\156\x69\141\143\x69\144"] = $this->getUniacid(); goto M8iHL; M8iHL: $cfg = pdo_fetchcolumn("\x53\x45\114\x45\103\x54\40\163\145\x74\164\x69\156\x67\x73\x20\106\122\x4f\115\40" . tablename("\x75\156\151\137\x61\x63\x63\x6f\165\x6e\x74\137\155\x6f\x64\x75\x6c\145\163") . "\40\127\110\105\122\105\x20\155\x6f\144\165\x6c\145\40\x3d\x20\x3a\x6d\157\144\165\154\x65\40\101\116\104\x20\x75\x6e\x69\141\143\151\x64\x20\x3d\x20\x3a\x75\x6e\x69\141\143\151\144", array("\x3a\x6d\x6f\144\x75\154\145" => MODULE, "\72\165\156\x69\141\x63\151\x64" => $_W["\x75\156\151\141\x63\151\144"])); goto PhXiB; LCmb9: } public function doPageTest() { goto oEVCN; xWH3f: $data = commonGetData::getAdv(1); goto xrq7U; xrq7U: return $this->result($errno, $message, $data); goto bQSn6; zWjMJ: $message = "\163\165\143\x65\x73\x73"; goto xWH3f; oEVCN: global $_GPC, $_W; goto r5LCC; r5LCC: $errno = 0; goto zWjMJ; bQSn6: } private function getOpenid() { goto Om9Xi; ZSMrj: pdo_update(MEMBER, array("\156\x69\x63\x6b\x6e\x61\155\x65" => $_GPC["\x6e\151\143\153\x4e\141\155\145"], "\154\157\x67\151\x6e\164\151\155\145" => time(), "\x61\166\x61\x74\x61\162" => $_GPC["\x61\166\141\164\141\162\125\162\x6c"]), array("\165\x6e\x69\141\x63\x69\144" => $_W["\x75\x6e\151\141\x63\151\144"], "\x6f\160\145\156\151\x64\x20" => $userinfo["\157\160\x65\x6e\x69\144"])); goto Qx51M; Om9Xi: global $_W, $_GPC; goto FVPiM; WDYuL: fEMGN: goto ZSMrj; JW30W: $code = $_GPC["\x63\157\x64\145"]; goto C9_gw; RiUsy: $member = pdo_get(MEMBER, array("\165\156\x69\x61\143\151\144" => $_W["\x75\156\x69\x61\143\x69\144"], "\x6f\160\x65\x6e\151\x64\40" => $userinfo["\157\160\x65\x6e\151\144"])); goto rIWEq; KrtlU: pdo_insert(MEMBER, $data); goto Hj5uF; ZLP7A: if (empty($member)) { goto ja3lj; } goto gn0cd; FVPiM: $_W["\165\156\x69\141\143\151\x64"] = $this->getUniacid(); goto JW30W; tZg4S: return $userinfo; goto IX93q; Qx51M: xcyS9: goto tZg4S; Hj5uF: goto xcyS9; goto P5wcS; gn0cd: if (empty($member["\x75\x6e\x69\x6f\x6e\x49\x64"]) && !empty($userinfo["\165\156\x69\157\156\111\x64"])) { goto BTQlg; } goto jNd7C; c54qB: $userinfo = $account_api->getOauthInfo($code); goto RiUsy; P5wcS: BTQlg: goto iVIil; C9_gw: $account_api = WeAccount::create(); goto c54qB; k23bO: goto xcyS9; goto S6ZQm; rIWEq: $nowtime = $member["\x6c\x6f\x67\151\x6e\164\151\x6d\x65"] - time(); goto ZLP7A; S6ZQm: ja3lj: goto Oflr7; Oflr7: $data = array("\165\156\151\141\143\x69\x64" => $_W["\x75\x6e\x69\x61\143\151\144"], "\x6f\x70\145\156\x69\x64" => $userinfo["\157\x70\145\156\151\144"], "\x6e\151\x63\x6b\156\x61\x6d\145" => $_GPC["\156\151\x63\x6b\116\x61\x6d\x65"], "\x61\x76\141\164\141\162" => $_GPC["\141\x76\x61\x74\141\x72\x55\x72\x6c"], "\x67\145\156\x64\145\162" => $_GPC["\x67\x65\x6e\x64\x65\x72"], "\x77\170\141\160\160" => 1, "\x6c\157\147\151\x6e\x74\x69\155\145" => time()); goto KrtlU; iVIil: pdo_update(MEMBER, array("\165\156\151\x6f\156\x49\144" => $userinfo["\165\156\151\157\x6e\x49\x64"]), array("\165\x6e\151\x61\143\151\144" => $_W["\x75\156\x69\x61\143\x69\x64"], "\157\x70\x65\156\151\x64\40" => $userinfo["\157\160\x65\156\111\144"])); goto QoPi6; jNd7C: if ($nowtime) { goto fEMGN; } goto k23bO; QoPi6: goto xcyS9; goto WDYuL; IX93q: } public function getUniacid() { goto QW7l3; eDrbQ: $version = $_GPC["\166"]; goto poySU; poySU: $data = pdo_fetchcolumn("\40\x53\105\x4c\105\x43\x54\40\155\x6f\x64\165\x6c\145\x73\x20\x46\x52\117\115\x20" . tablename("\167\170\141\160\160\137\166\145\x72\163\x69\157\x6e\163") . "\40\127\x48\105\122\x45\x20\40\165\156\151\x61\x63\x69\x64\x20\75\x20\47{$uniacid}\x27\40\40\141\156\144\x20\x76\x65\162\x73\x69\157\156\x20\75\x20\x27{$version}\x27\x20\40\40\154\151\x6d\x69\164\x20\x31"); goto YHZUP; zrxFj: return $uniacid; goto ZuCRm; uMA8y: $uniacid = $_GPC["\151"]; goto eDrbQ; lahDX: $lMA3T = !empty($_W["\165\x6e\x69\x61\143\x69\144"]); goto x1RJC; v9n6_: uFs0y: goto zrxFj; QW7l3: global $_GPC, $_W; goto uMA8y; x1RJC: if ($lMA3T) { goto uFs0y; } goto FWAt_; YHZUP: $modules = unserialize($data); goto Bh2dv; Bh2dv: $_W["\x75\156\151\141\x63\x69\144"] = $uniacid = $modules["\x79\x63\x5f\171\157\165\x6c\x69\x61\157"]["\x75\x6e\151\x61\143\151\x64"]; goto lahDX; FWAt_: $uniacid = pdo_fetchcolumn("\x53\x45\114\x45\x43\124\x20\x77\145\x69\144\40\x46\122\117\115\40" . tablename(CHANNEL) . "\40\157\x72\x64\x65\x72\40\142\x79\40\151\x64\x20\x61\163\143\x20\x6c\151\x6d\x69\x74\40\x31"); goto v9n6_; ZuCRm: } public function successResult($data) { goto AvGuB; IJ3ds: $message = "\163\165\143\145\163\x73"; goto r_uXS; r_uXS: return $this->result($errno, $message, $data); goto IR1x6; AvGuB: $errno = 0; goto IJ3ds; IR1x6: } public function errorResult($message) { $errno = 1; return $this->result($errno, $message); } public function doPageAttachurl() { global $_W; return $_W["\141\x74\164\141\143\x68\x75\x72\154"]; } public function dopageGetSeid() { goto CNU_E; kHR_W: die; goto Kei3Q; CNU_E: $userinfo = $this->getOpenid(); goto by__W; by__W: $D7pDA = !empty($userinfo); goto Fs9d2; YdCPA: return $this->successResult($sessionId); goto YRI5Q; Kei3Q: YVKtd: goto qtBQs; rueXL: cache_write($sessionId, $userinfo["\x6f\x70\x65\x6e\x69\144"]); goto YdCPA; BarXA: return $this->errorResult("\62"); goto kHR_W; KYtxA: $sessionId = time() . $myfun->randombylength(8); goto rueXL; qtBQs: $myfun = new myfun(); goto KYtxA; Fs9d2: if ($D7pDA) { goto YVKtd; } goto BarXA; YRI5Q: } public function dopageGetUser() { $userinfo = $this->getOpenid(); return $this->successResult($userinfo); } public function getUserBySeid() { goto nP8yv; TeYYk: $userinfo = cache_load($seid); goto EgKfB; yBP_i: return $this->errorResult("\62"); goto Ok8XC; Ok8XC: die; goto EOkKK; EOkKK: tHFT_: goto a8MzA; nP8yv: global $_GPC; goto qA_qW; EgKfB: $D7pDA = !empty($userinfo); goto GMm0B; qA_qW: $seid = $_GPC["\x73\145\x69\x64"]; goto TeYYk; a8MzA: return $userinfo; goto bOQp2; GMm0B: if ($D7pDA) { goto tHFT_; } goto yBP_i; bOQp2: } public function getMemberByOpenid() { goto pSvgV; wyPaq: $member = Member::getMemberByopenid($openid); goto KgKjF; pSvgV: $openid = $this->getUserBySeid(); goto wyPaq; KgKjF: return $member; goto UpKVP; UpKVP: } public function doPageIndex() { goto xYUud; HNYN2: goto QV5bg; goto Tql3o; cgNlb: goto QV5bg; goto FDgLZ; I3W7J: $sql_city = rtrim($city, "\xe5\xb8\202"); goto QcjqC; F5Xc2: $data["\x69\x73\123\x69\x67\156\x49\156"] = $result; goto gGFjF; Tql3o: n9frt: goto nLe6H; CSmMM: $module = commonGetData::getChannel(1, 2); goto DW7ia; E2G73: MePgc: goto VKkya; xtg3k: $NNXE_ = !($weather2["\163\x74\x61\x74\165\163"] == "\x31\x30\60\62"); goto aEVya; L8tMK: $formatted_address = $addresData["\146\157\x72\155\x61\164\164\x65\x64\137\141\144\144\162\145\x73\x73"]; goto d1SnR; GZXZh: $formatted_address = ''; goto jz0Mn; Nuwg0: $addresData = util::getDistrictByLatLng($lat, $lng, $mapreq, $chagexy); goto L8tMK; VD4dx: $uid = $_GPC["\x75\x69\144"]; goto JeGvD; d3yCl: if ($qiandao_random == 1) { goto hHHBZ; } goto YPEzW; e4x8X: $lat = $_GPC["\154\x61\x74"]; goto hzGVl; PrDNR: $AD9_X = !$city; goto EZQ5B; XZB8f: if ($Gbi2e) { goto FFF8y; } goto e4x8X; ExrBL: $_W["\165\x6e\x69\141\143\x69\x64"] = $this->getUniacid(); goto CAftm; OfhTl: yAGZ5: goto EHzvP; xCq1U: $newMsg = commonGetData::getNewMsg($info_condition, $msgNum, $lat, $lng); goto RHGxf; JmSoj: if ($wNSR8) { goto P0uU0; } goto nsIhE; JeGvD: $Ia2CC = !$uid; goto yYzdr; EGjXp: $Gbi2e = !(!empty($_GPC["\154\x61\164"]) && !empty($_GPC["\x6c\x6e\x67"])); goto XZB8f; unhkx: $weatherdata = util::getWeather($weatherurl, $addresData["\144\x69\163\164\x72\x69\x63\164"]); goto i95bM; xYUud: global $_GPC, $_W; goto ExrBL; i95bM: AZnBL: goto OfhTl; sZkLF: $cfg = $this->module["\x63\x6f\156\x66\151\x67"]; goto EGjXp; ZN3GX: $weatherdata = util::getWeather($weatherurl, $city); goto sGAcT; RHGxf: $topMsg = commonGetData::getTopMsg($info_condition, $msgNum, $lat, $lng); goto EnIBk; EoFJX: UHbJP: goto E2G73; Rdzls: P0uU0: goto Tp3fi; gGFjF: $FTqKZ = !($data["\x69\163\123\x69\x67\x6e\x49\156"] == 1); goto QpHBm; Tp3fi: $weatherurl = ReqInfo::weatherreq(); goto ZN3GX; AFl6r: $lat = ''; goto AKzqG; aGGn1: QV5bg: goto EoFJX; gv9sK: $data["\143\x72\145\x64\x69\164"] = -1; goto HNYN2; hzGVl: $lng = $_GPC["\x6c\156\147"]; goto QFw7u; N21KZ: $qiandao_random = $cfg["\x71\151\141\156\144\x61\157\137\x72\x61\156\144\x6f\x6d"]; goto d3yCl; nsIhE: $info_condition .= "\x20\x61\156\144\x20\143\x69\x74\171\x20\x6c\x69\x6b\145\40\47" . $sql_city . "\x25\47\x20"; goto Rdzls; d1SnR: $city = $addresData["\143\x69\x74\x79"]; goto PrDNR; EZQ5B: if ($AD9_X) { goto yAGZ5; } goto I3W7J; AKzqG: $lng = ''; goto GZXZh; QFw7u: $cfg = $this->module["\143\157\156\x66\x69\147"]; goto G9PLh; lThNF: $data = array("\x63\x69\x74\171" => $city, "\146\x6f\x72\x6d\141\164\x74\x65\x64\137\x61\144\x64\x72\x65\163\x73" => $formatted_address, "\x77\x65\141\164\150\x65\x72\144\141\164\x61" => $weatherdata, "\x61\x64\x76\x73" => $advs, "\x6d\157\144\x75\154\145" => $module, "\x6e\x65\167\x4d\x73\x67" => $newMsg, "\x74\157\160\115\163\x67" => $topMsg, "\150\x6f\x74\x4d\x73\147" => $hotMsg); goto VD4dx; b2jPo: $result = MEMBER::isqiandao($uid); goto F5Xc2; EHzvP: FFF8y: goto c2IKh; DW7ia: $msgNum = ReqInfo::msgNum($cfg); goto xCq1U; VKkya: return $this->successResult($data); goto A9b0_; QpHBm: if ($FTqKZ) { goto UHbJP; } goto N21KZ; CAftm: $info_condition = ''; goto AFl6r; sGAcT: $weather2 = json_decode($weatherdata, 1); goto xtg3k; jz0Mn: $weatherdata = ''; goto PsysH; PsysH: $city = ''; goto sZkLF; G9PLh: $mapreq = ReqInfo::mapReq($cfg); goto IkwgH; aEVya: if ($NNXE_) { goto AZnBL; } goto unhkx; IkwgH: $chagexy = ReqInfo::chagexy($cfg); goto Nuwg0; QcjqC: $wNSR8 = !($cfg["\x69\163\x73\x61\155\145\143\x69\x74\x79"] == 0); goto JmSoj; YPEzW: if (!empty($cfg["\161\x69\x61\156\x64\x61\157\137\x6a\151\146\145\x6e"])) { goto n9frt; } goto cgNlb; FDgLZ: hHHBZ: goto gv9sK; EnIBk: $hotMsg = commonGetData::getHotMsg($info_condition, $msgNum, $lat, $lng); goto lThNF; c2IKh: $advs = commonGetData::getAdv(1); goto CSmMM; yYzdr: if ($Ia2CC) { goto MePgc; } goto b2jPo; nLe6H: $data["\x63\162\x65\144\151\x74"] = $cfg["\161\151\141\x6e\144\141\x6f\x5f\x6a\x69\146\x65\x6e"]; goto aGGn1; A9b0_: } public function dopageCredit2money() { goto dxdxJ; yF3Mu: $credit2money = 0.1; goto jJUNZ; jJUNZ: LiL8D: goto K9jD4; dxdxJ: global $_W, $_GPC; goto DA2bI; gONsL: if ($JvXCH) { goto LiL8D; } goto yF3Mu; DA2bI: $_W["\165\x6e\x69\141\x63\151\x64"] = $this->getUniacid(); goto iD8th; K9jD4: return $this->successResult($credit2money); goto isSVq; kQItm: $credit2money = $cfg["\143\x72\145\x64\151\x74\x32\155\x6f\156\145\x79"]; goto FOBU9; FOBU9: $JvXCH = !empty($credit2money); goto gONsL; iD8th: $cfg = $this->module["\143\x6f\x6e\146\151\147"]; goto kQItm; isSVq: } public function dopageGetLaction() { goto qfiUl; rltcU: $chagexy = ReqInfo::chagexy($cfg); goto vT2zL; G78Tm: $lng = $_GPC["\154\x6e\147"]; goto CzW7U; jM_ys: os3ip: goto glC3H; qfiUl: global $_GPC, $_W; goto VN6y5; CzW7U: $cfg = $this->module["\143\157\156\x66\151\x67"]; goto yfWV9; ymJfq: $lat = $_GPC["\x6c\141\164"]; goto G78Tm; vT2zL: $addresData = util::getDistrictByLatLng($lat, $lng, $mapreq, $chagexy); goto vRoJh; Kxitj: if ($Gbi2e) { goto os3ip; } goto ymJfq; VN6y5: $Gbi2e = !(!empty($_GPC["\x6c\141\164"]) && !empty($_GPC["\154\x6e\x67"])); goto Kxitj; yfWV9: $mapreq = ReqInfo::mapReq($cfg); goto rltcU; vRoJh: return $this->successResult($addresData); goto jM_ys; glC3H: } public function doPageGetModuleById() { goto zOjsl; QQWYk: $_W["\x75\x6e\151\141\x63\151\144"] = $this->getUniacid(); goto WeCVE; leVjC: $num = reqInfo::num(); goto ChO_r; ChO_r: $id = intval($id); goto rUU9k; WeCVE: $id = intval($_GPC["\151\144"]); goto gSnZ0; n73M7: return $this->result($errno, $message); goto YdTVr; tlizM: return $this->successResult($data); goto BFpAQ; zOjsl: global $_W, $_GPC; goto QQWYk; cZ3gh: $wNSR8 = !($cfg["\151\x73\163\141\x6d\x65\143\151\164\171"] == 0); goto OTuUo; Q5MQJ: $errno = 1; goto OZWir; miol1: $cfg = $this->module["\143\x6f\x6e\x66\151\x67"]; goto cZ3gh; OZWir: $message = "\151\144\x20\x69\163\40\x6e\x75\x6c\154"; goto n73M7; gSnZ0: $FWyIn = !($id == 0); goto CxUpb; YdTVr: Qzxnq: goto U5MqD; OTuUo: if ($wNSR8) { goto goqGM; } goto YYtYf; rUU9k: $city = ''; goto miol1; U5MqD: $page = reqInfo::pageIndex(); goto leVjC; YYtYf: $city = $_GPC["\143\x69\x74\171"]; goto ydMTP; ydMTP: goqGM: goto rmIRD; CxUpb: if ($FWyIn) { goto Qzxnq; } goto Q5MQJ; rmIRD: $data = commonGetData::getMsgById($id, $page, $num, $city); goto tlizM; BFpAQ: } public function doPageGetInfoById() { goto TOp92; IZu8f: if ($FWyIn) { goto Jq43s; } goto CVZ64; GjyDB: Jq43s: goto FUJtn; TOp92: global $_GPC; goto UoUH2; X_So3: return $this->successResult($data); goto f2huD; f3nZ9: $data["\151\155\x61\147\145\x73"] = $feildlist[$imageeenname["\x65\156\156\141\x6d\x65"]]; goto X_So3; FUJtn: $data = commonGetData::getInfoById($id, $_W["\165\156\151\141\x63\x69\x64"]); goto RYBoD; Wnt_6: $mid = intval($_GPC["\155\x69\x64"]); goto ZXZYQ; ZXZYQ: $FWyIn = !($id == 0); goto IZu8f; HneK0: $imageeenname = pdo_fetch("\123\x45\x4c\105\103\124\x20\x65\156\x6e\141\x6d\x65\40\x46\122\x4f\x4d\40" . tablename(FIELDS) . "\40\x57\x48\x45\122\105\x20\167\x65\x69\x64\40\75\40{$_W["\165\156\151\x61\143\151\144"]}\x20\101\116\104\x20\155\x69\x64\40\75\40{$mid}\x20\x41\116\104\40\x6d\164\171\160\x65\40\x69\x6e\x20\50\x27\x69\155\141\147\145\x73\47\x2c\x27\147\157\157\144\163\x74\x68\165\155\x62\163\47\x2c\47\x67\x6f\x6f\144\163\142\x61\x6f\154\151\141\157\x27\x29"); goto f3nZ9; gTS1W: $message = "\151\144\x20\x69\x73\40\156\x6f\x74\x20\x6e\x75\154\154"; goto et3vY; et3vY: return $this->result($errno, $message); goto GjyDB; RYBoD: $data["\143\157\x6e\x74\x65\x6e\164"] = $feildlist = unserialize($data["\x63\157\156\164\x65\x6e\164"]); goto HneK0; CVZ64: $errno = 1; goto gTS1W; ku6cA: $id = intval($_GPC["\151\144"]); goto Wnt_6; UoUH2: $_W["\x75\156\151\141\x63\x69\x64"] = $this->getUniacid(); goto ku6cA; f2huD: } public function doPageFields() { goto ZykBv; jIVh4: $_W["\165\156\x69\141\x63\151\144"] = $this->getUniacid(); goto Y2JgU; Y2JgU: $fieldslist = commonGetData::getfield_arr($_GPC["\x69\x64"], $_W["\x75\x6e\x69\x61\143\x69\x64"]); goto oga5Y; ZykBv: global $_GPC; goto jIVh4; oga5Y: return $this->successResult($fieldslist); goto N70Dr; N70Dr: } public function doPageSubmit_imgs() { goto F61yx; pttlS: if ($i2Yx6) { goto VWBaB; } goto X0tlO; mQ8nT: $restult = false; goto FV2lu; X0tlO: $res = mkdir($uplogo_path, 511, true); goto wGqko; mK24T: Lq5mC: goto hmURf; F61yx: global $_W; goto eHjRn; OU3Q8: return $this->successResult($data); goto DY_if; Us4Mz: $myfun = new MyFun(); goto yAV0n; eHjRn: $_W["\165\156\x69\x61\143\x69\144"] = $this->getUniacid(); goto Us4Mz; yAV0n: $imgdir = util::getAttImgdir(); goto dvbBD; dvbBD: $uplogo_path = ATTACHMENT_ROOT . $imgdir; goto mgKnN; rqwRE: $data = array("\x69\x6d\x67\137\x64\x69\x72" => $imgdir . $img_file_name, "\x69\155\147\137\160\141\164\150" => $webimgurl); goto OU3Q8; MFOtY: WpMsy: goto rLEnT; hmURf: $webimgurl = tomedia($imgdir . $img_file_name); goto rqwRE; wGqko: VWBaB: goto ZEM_c; FV2lu: goto Lq5mC; goto MFOtY; ZEM_c: $img_file_name = time() . $myfun->randombylength(8) . "\56" . $myfun->fileext($_FILES["\x66\x69\x6c\145"]["\x6e\x61\x6d\145"]); goto qWTyO; mgKnN: $i2Yx6 = is_dir($uplogo_path); goto pttlS; rLEnT: $restult = true; goto mK24T; qWTyO: if (move_uploaded_file($_FILES["\146\x69\154\x65"]["\x74\x6d\160\x5f\x6e\141\155\x65"], $uplogo_path . $img_file_name)) { goto WpMsy; } goto mQ8nT; DY_if: } public function doPageAddInfo() { goto QADcf; keaUl: $black = Member::getBlack($userinfo["\151\144"]); goto b5sf6; YNvFB: $this->errorResult("\345\xbe\210\346\212\xb1\xe6\255\211\357\274\214\346\x82\250\xe5\267\xb2\xe8\xa2\253\xe7\xa7\xbb\xe5\x85\245\351\xbb\x91\xe5\x90\215\xe5\x8d\x95"); goto KqmfY; P_J7U: $openid = $this->getUserBySeid(); goto YorzF; b5sf6: $aASB3 = empty($black); goto vXrPb; KqmfY: w1mV2: goto JiXrI; vXrPb: if ($aASB3) { goto w1mV2; } goto YNvFB; YorzF: $info = new Info(); goto oydcF; oydcF: $userinfo = Member::getMemberByopenid($openid); goto keaUl; klCNi: return $this->successResult($res); goto aWAwE; JiXrI: $res = $info->postInfo($openid, 2); goto klCNi; QADcf: global $_W, $_GPC; goto QkAbI; QkAbI: $_W["\165\156\x69\x61\143\x69\x64"] = $this->getUniacid(); goto P_J7U; aWAwE: } public function doPageGetInfoByUser() { goto D1pBd; UwW9V: goto W2UXR; goto lb23w; SRrAr: $pyqnW = !$haspay; goto WwHBp; lb23w: s9HUg: goto hfGv1; ph1aZ: $status = $_GPC["\163\164\x61\164\x75\x73"]; goto Wh0rU; LcpXS: $num = reqInfo::num(); goto tMqgR; Uva63: $res = $this->pro_info($res); goto saJ8z; cTjPa: $where .= "\40\101\x4e\104\40\163\164\141\x74\x75\x73\x3d\x30\40"; goto UwW9V; saJ8z: return $this->successResult($res); goto vZMzU; Nu5vh: $where .= "\x20\101\116\104\x20\151\x73\156\145\145\144\x70\x61\171\75\x20" . $isneedpay; goto U7k36; fUpBZ: $where .= "\x20\101\x4e\x44\x20\x68\141\x73\160\141\171\75\40" . $haspay; goto v4Zts; l12SS: $res = $info->getInfoByuser($openid, $where, $page, $num); goto Uva63; njucj: $page = reqInfo::pageIndex(); goto LcpXS; D1pBd: global $_W, $_GPC; goto eFDIq; hfGv1: $where .= "\x20\x41\116\x44\x20\x73\164\x61\164\165\163\x3d\61\40"; goto roaOw; WwHBp: if ($pyqnW) { goto qBfmd; } goto fUpBZ; roaOw: W2UXR: goto l12SS; Rvjlu: if ($status) { goto s9HUg; } goto cTjPa; ro1om: if ($oAkzn) { goto fZehJ; } goto Nu5vh; U7k36: fZehJ: goto Rvjlu; eFDIq: $_W["\x75\156\151\141\x63\x69\x64"] = $this->getUniacid(); goto wYg0o; tB23d: $where = ''; goto SRrAr; wYg0o: $openid = $this->getUserBySeid(); goto njucj; Wh0rU: $isneedpay = $_GPC["\151\x73\x6e\x65\145\x64\x70\141\x79"]; goto tB23d; FaZvp: $oAkzn = !$isneedpay; goto ro1om; KfHjs: $haspay = $_GPC["\x68\141\163\x70\x61\x79"]; goto ph1aZ; v4Zts: qBfmd: goto FaZvp; tMqgR: $info = new Info(); goto KfHjs; vZMzU: } public function doPageGetPayInfoByUser() { goto zouwr; G66P0: $res = $info->getPayInfoByuser($openid, '', $page, $num); goto P2agq; LGrXA: $num = reqInfo::num(); goto VCHrK; dRDi1: $openid = $this->getUserBySeid(); goto oelWd; oelWd: $page = reqInfo::page(); goto LGrXA; fERi2: $_W["\165\156\151\x61\143\151\144"] = $this->getUniacid(); goto dRDi1; zouwr: global $_W, $_GPC; goto fERi2; P2agq: $res = $this->pro_info($res); goto Fva_y; VCHrK: $info = new Info(); goto G66P0; Fva_y: return $this->successResult($res); goto rtiII; rtiII: } public function pro_info($res) { goto U__Ti; Cgo0O: foreach ($res as $k => $v) { goto yujo0; REXY3: KQazq: goto oS1F_; CnMgh: $res[$k]["\143\x6f\x6e"] = unserialize($v["\x63\x6f\156\x74\x65\x6e\164"]); goto mTGVe; yujo0: $module = pdo_fetch("\x53\x45\114\105\103\x54\x20\156\141\155\x65\x20\106\x52\x4f\x4d\x20" . tablename(CHANNEL) . "\40\x57\x48\x45\x52\105\x20\x77\x65\x69\144\40\x3d\x20{$_W["\x75\156\x69\x61\x63\151\x64"]}\40\x41\116\x44\x20\151\144\40\75\40{$v["\155\151\x64"]}"); goto CnMgh; mTGVe: $res[$k]["\155\157\x64\165\x6c\145\x6e\141\155\145"] = $module["\156\141\x6d\145"]; goto REXY3; oS1F_: } goto lHajm; lHajm: ggkDU: goto enLmG; enLmG: return $res; goto Pv8f6; U__Ti: $_W["\x75\x6e\151\141\x63\x69\144"] = $this->getUniacid(); goto Cgo0O; Pv8f6: } public function doPageAddviews() { goto gBral; hdJBl: $views = $message["\166\x69\145\x77\163"] + 1; goto b1ytX; wL8qC: $views_num = intval($cfg["\x76\x69\x65\x77\x73\137\156\x75\x6d"]); goto sZaUZ; wK5HS: pdo_update(INFO, array("\166\x69\x65\x77\x73" => $views), array("\151\144" => $id)); goto blCnU; RSkCq: $info = new Info(); goto ZHNmi; gBral: global $_W, $_GPC; goto BkZYG; BkZYG: $_W["\x75\156\x69\x61\x63\151\144"] = $this->getUniacid(); goto ryWTG; cER0M: $views = mt_rand(1, $views_num); goto fohJe; doxiz: if ($views_num > 0) { goto cCYEd; } goto hdJBl; blCnU: return $this->successResult($views); goto nqkNb; oDCJ5: cCYEd: goto cER0M; cxwxp: rzEhf: goto wK5HS; ZHNmi: $message = $info->getInfoById($id); goto doxiz; b1ytX: goto rzEhf; goto oDCJ5; ryWTG: $cfg = $this->module["\143\157\156\146\x69\x67"]; goto wL8qC; fohJe: $views = $message["\x76\x69\145\x77\163"] + $views; goto cxwxp; sZaUZ: $id = intval($_GPC["\x6d\145\163\163\x61\147\145\x5f\x69\x64"]); goto RSkCq; nqkNb: } public function doPageDeleteInfo() { goto dcXYT; q9Yaf: goto CFzKX; goto S7Xn8; xNGSi: CFzKX: goto g512O; sVfG_: pdo_delete(INFO, array("\151\x64" => $id, "\x6f\x70\145\x6e\151\x64" => $openid)); goto HB2Th; SLSDj: $openid = $this->getUserBySeid(); goto anlWU; dcXYT: global $_W, $_GPC; goto R10_v; pEm0e: $message = $info->getInfoByOId($openid, $id); goto SK2zy; SK2zy: if ($message) { goto zZ6i2; } goto IbTDT; R10_v: $_W["\165\x6e\151\141\143\151\x64"] = $this->getUniacid(); goto rUjoH; S7Xn8: zZ6i2: goto sVfG_; rUjoH: $id = intval($_GPC["\x6d\145\163\x73\141\x67\145\137\x69\144"]); goto SLSDj; HB2Th: return $this->successResult("\144\x65\154\145\164\145\x20\x73\x75\143\x63\145\163\163"); goto xNGSi; anlWU: $info = new Info(); goto pEm0e; IbTDT: return $this->successResult("\x64\141\164\141\40\151\x73\x20\156\x75\154\154"); goto q9Yaf; g512O: } public function doPageGetTopInfoByUser() { goto Yk8CH; d159D: $num = reqInfo::num(); goto GPCha; nB2Zn: return $this->successResult($res); goto A1c34; VXjrP: $openid = $this->getUserBySeid(); goto h1VUz; RfEic: $_W["\165\156\151\x61\143\151\x64"] = $this->getUniacid(); goto VXjrP; wyvRR: $res = $this->pro_info($res); goto nB2Zn; TLX1L: $res = $info->getTopInfoByuser($openid, '', $page, $num); goto wyvRR; Yk8CH: global $_W, $_GPC; goto RfEic; GPCha: $info = new Info(); goto TLX1L; h1VUz: $page = reqInfo::pageIndex(); goto d159D; A1c34: } public function doPageGetCollect() { goto IgGUh; t1yuz: $res = $info->getCollect($openid, $page, $num, $where); goto iAJJY; eg3tL: $_W["\x75\x6e\x69\x61\x63\151\144"] = $this->getUniacid(); goto dzO5A; iAJJY: return $this->successResult($res); goto mu0KE; IgGUh: global $_W, $_GPC; goto eg3tL; dzO5A: $openid = $this->getUserBySeid(); goto KwQR7; uhlkc: $ZW8oj = !($info_id > 0); goto qmSJP; P1Uex: $where = "\x20\141\156\x64\x20\142\x2e\x69\x64\75" . $info_id; goto tNABr; KwQR7: $page = reqInfo::pageIndex(); goto YZZwF; tNABr: ZrXMj: goto t1yuz; qmSJP: if ($ZW8oj) { goto ZrXMj; } goto P1Uex; r9vp5: $info = new Info(); goto vI9Ok; YZZwF: $num = reqInfo::num(); goto r9vp5; vI9Ok: $info_id = intval($_GPC["\x6d\145\x73\163\x61\147\x65\x5f\151\144"]); goto uhlkc; mu0KE: } public function doPageProCollect() { goto G7pbB; HST1r: $_W["\x75\156\151\141\x63\x69\x64"] = $this->getUniacid(); goto trMtd; GakNE: $res = $info->proCollect($openid); goto Om3X2; G7pbB: global $_W, $_GPC; goto HST1r; Om3X2: return $this->result($res["\145\162\162\157\162"], $res["\x6d\145\163\x73\x61\147\145"]); goto io2FP; WDQCr: $info = new Info(); goto GakNE; trMtd: $openid = $this->getUserBySeid(); goto WDQCr; io2FP: } public function doPageComment() { goto ScJOz; ScJOz: global $_W, $_GPC; goto WcJ8N; ZZX4D: nBq_3: goto nRjbg; WXxUY: $openid = $this->getUserBySeid(); goto L63Jz; h04iU: $comment_where["\x69\x6e\146\x6f\137\151\x64"] = $id; goto OA4mI; ZFoTn: return $this->successResult($comment); goto Rz13M; WWmFu: $info = trim($_GPC["\151\156\x66\157"]); goto kfhfQ; zIcIR: s7FEN: goto ZFoTn; TENTX: $comment_where["\x6f\160\145\x6e\x69\144"] = $openid; goto AXjSF; XUtd9: if ($UUvFg) { goto zBnb1; } goto YuYyG; RwINC: if ($FWyIn) { goto Eb1rr; } goto fxmV1; zp6ni: if ($t7d2M) { goto xzU9o; } goto wD31a; LeHiO: $data = array("\x75\x6e\x69\141\x63\x69\x64" => $_W["\x75\156\x69\x61\143\x69\144"], "\141\x64\144\x74\x69\155\x65" => TIMESTAMP, "\157\160\x65\x6e\x69\x64" => $openid, "\x69\156\x66\x6f" => $info, "\x69\x6e\146\157\137\x69\144" => $id, "\x70\141\x72\145\x6e\164\137\151\144" => $pid); goto YdC3m; RiZQ1: $orderby = "\x20\x63\x6f\155\x6d\x65\156\164\x5f\x69\144\x20\x41\x53\103\x20"; goto QX5N_; fxmV1: return $this->errorResult("\151\x64\x20\151\163\40\156\x75\154\x6c"); goto znxFN; OA4mI: Jgnuh: goto RiZQ1; Rz13M: goto nBq_3; goto piQT4; BX45z: foreach ($comment as $k => $v) { goto PzDhQ; ZX2_9: $comment[$k]["\156\151\143\x6b\156\x61\x6d\145"] = $memberData["\x6e\151\143\x6b\x6e\x61\x6d\x65"]; goto z7q1R; N4wFI: $comment[$k]["\x61\x76\x61\x74\141\x72"] = $memberData["\x61\166\141\x74\141\x72"]; goto ZX2_9; PzDhQ: $memberData = Member::getSingleUser($v["\x6f\x70\145\x6e\x69\144"]); goto N4wFI; z7q1R: $comment[$k]["\141\x64\x64\164\x69\155\x65"] = date("\x59\55\155\x2d\x64\40\x48\72\151", $v["\x61\144\144\164\x69\x6d\145"]); goto ktvYu; ktvYu: TruB7: goto YyEf8; YyEf8: } goto zIcIR; AXjSF: goto Jgnuh; goto MdMdO; YdC3m: $result = pdo_insert(INFO_COMMENT, $data); goto ZjlIC; YuYyG: return $this->successResult($data); goto yGKA6; WcJ8N: $_W["\165\x6e\151\x61\x63\x69\144"] = $this->getUniacid(); goto w8ai7; w8ai7: $type = intval($_GPC["\x74\x79\x70\145"]); goto enK5P; e_3o2: xzU9o: goto LeHiO; yGKA6: zBnb1: goto ZZX4D; wD31a: return $this->errorResult("\350\257\204\350\256\272\xe5\x86\x85\345\xae\xb9\344\xb8\215\350\x83\275\344\270\272\347\xa9\xba"); goto ZMIeP; kfhfQ: $pid = intval($_GPC["\160\x69\144"]); goto zhPmO; zhPmO: $t7d2M = !empty($info); goto zp6ni; o0cJ6: $FWyIn = !($id == 0); goto RwINC; TpDmx: if ($id > 0) { goto lTXr1; } goto TENTX; piQT4: Y5pra: goto o0cJ6; MdMdO: lTXr1: goto h04iU; znxFN: Eb1rr: goto WWmFu; L63Jz: if ($type == 1) { goto Y5pra; } goto TpDmx; ZjlIC: $UUvFg = empty($result); goto XUtd9; enK5P: $id = intval($_GPC["\x69\144"]); goto WXxUY; QX5N_: $comment = util::getAllDataBySingleTable(INFO_COMMENT, $comment_where, $orderby, $select = "\x2a", $type = "\61"); goto BX45z; ZMIeP: die; goto e_3o2; nRjbg: } public function doPageQiandao() { goto Dva62; wtxIG: $cfg = $this->module["\143\157\156\146\151\147"]; goto zQH7m; eUXt4: $z1Rwr = !($uid == 0); goto MH0MO; MH0MO: if ($z1Rwr) { goto xeZTM; } goto suHD1; nwnf2: $_W["\x75\156\151\x61\x63\151\x64"] = $this->getUniacid(); goto mlazc; OK5HC: return $this->successResult($res); goto EOQuc; mlazc: $uid = intval($_GPC["\x75\151\x64"]); goto eUXt4; Dva62: global $_W, $_GPC; goto nwnf2; zQH7m: $res = Member::qiandao($uid, $cfg); goto OK5HC; qRbbb: xeZTM: goto wtxIG; suHD1: return $this->errorResult("\x75\151\144\x20\151\163\40\x6e\165\154\x6c"); goto qRbbb; EOQuc: } public function doPageGetTitle() { goto gYDc2; rmJsO: $title = $_W["\165\156\x69\141\x63\x63\157\x75\x6e\164"]["\x6e\x61\x6d\x65"]; goto FnYUP; gYDc2: global $_W; goto ccNcC; Yzzwt: $cfg = $this->module["\143\x6f\156\146\x69\147"]; goto Wm0wb; FnYUP: QKpTg: goto xOGq3; Wm0wb: $title = $cfg["\151\x6e\x64\145\x78\137\x74\x69\164\154\x65"]; goto rr8bI; rr8bI: $FV526 = !empty($title); goto Res2b; ccNcC: $_W["\x75\x6e\151\141\x63\x69\x64"] = $this->getUniacid(); goto Yzzwt; xOGq3: return $this->successResult($title); goto GCWNp; Res2b: if ($FV526) { goto QKpTg; } goto rmJsO; GCWNp: } public function doPageGetInfoOdersn() { goto l8iGz; f6yiP: $_W["\x75\x6e\x69\141\143\x69\144"] = $this->getUniacid(); goto lv5bg; lv5bg: $openid = $this->getUserBySeid(); goto diF1W; l8iGz: global $_W, $_GPC; goto f6yiP; nSt00: $res = util::getSingelDataInSingleTable(INFOORDER, array("\x6d\x65\x73\x73\x61\x67\x65\137\151\x64" => $id, "\146\162\157\155\x5f\x75\x73\x65\x72" => $openid), "\52", 2); goto b9IVT; diF1W: $id = intval($_GPC["\155\145\163\x73\x61\147\145\137\151\x64"]); goto nSt00; b9IVT: return $this->successResult($res); goto vqjhw; vqjhw: } public function doPageGetDiscountMoney() { goto KqClg; cygnC: $num = reqInfo::num(); goto c1vrr; E2wDQ: $list = Discount::getmoney($discount, $paynum); goto tJ1pi; zYX93: $discount = Util::getAllDataInSingleTable(DISCOUNT, $where, $page, $num); goto HxxDr; tJ1pi: return $this->successResult($list); goto HdiLa; HxxDr: $paynum = floatval($_GPC["\x70\x61\171\x6e\x75\x6d"]); goto E2wDQ; LhVcc: $page = reqInfo::pageIndex(); goto cygnC; NgpZJ: $_W["\165\156\151\x61\143\151\x64"] = $this->getUniacid(); goto LhVcc; KqClg: global $_W, $_GPC; goto NgpZJ; LRv6S: $where["\163\150\x6f\x70\x5f\151\x64"] = $shop_id; goto zYX93; c1vrr: $shop_id = floatval($_GPC["\x73\150\x6f\160\137\x69\x64"]); goto LRv6S; HdiLa: } public function doPageGetCate() { goto Sa1Le; bj832: return $this->successResult($data); goto FJpAB; tTeL1: $_W["\x75\156\151\x61\143\151\x64"] = $this->getUniacid(); goto HCdHc; Sa1Le: global $_W, $_GPC; goto tTeL1; HCdHc: $data = Shop::getCcate(); goto bj832; FJpAB: } public function doPageGetPCate() { goto Kj21l; eLaTV: $data = Shop::getCate(); goto O_VwA; O_VwA: return $this->successResult($data); goto ft3Kp; crDfT: $_W["\165\x6e\x69\141\143\x69\144"] = $this->getUniacid(); goto eLaTV; Kj21l: global $_W, $_GPC; goto crDfT; ft3Kp: } public function doPageGetCateByCid() { goto PbM6Y; b9dIT: $data = Shop::getCcateBypid($pid); goto ShB_K; I6kRq: $_W["\165\x6e\x69\x61\143\151\x64"] = $this->getUniacid(); goto dhwoL; dhwoL: $pid = intval($_GPC["\x63\141\164\x65\x5f\151\144"]); goto b9dIT; PbM6Y: global $_W, $_GPC; goto I6kRq; ShB_K: return $this->successResult($data); goto IX1Wo; IX1Wo: } public function doPageGetShopPosition() { goto u9vRG; kt2hY: $area = pdo_fetchall("\x20\123\105\x4c\105\103\x54\x20\x2a\x20\106\122\x4f\115\40" . tablename(AREA) . "\40\127\x48\x45\x52\105\40\40\x75\156\151\x61\x63\x69\x64\40\75\x20\47{$_W["\165\156\x69\141\143\x69\144"]}\x27\x20\40\x61\156\x64\40\50\160\x61\162\145\x6e\164\137\x69\x64\40\75\60\x20\157\162\40\x70\141\162\x65\x6e\x74\x5f\x69\144\40\x69\163\40\x6e\x75\x6c\x6c\51\x20\117\122\x44\x45\x52\x20\102\x59\40\x20\x6f\x72\144\x65\162\x62\171\40\141\x73\x63"); goto YlQJc; u9vRG: global $_W; goto v6r2G; v6r2G: $_W["\165\x6e\151\141\143\x69\144"] = $this->getUniacid(); goto ySnNF; ySnNF: $city = pdo_fetchall("\x20\x53\105\114\x45\x43\x54\x20\52\x20\106\122\x4f\x4d\x20" . tablename(CITY) . "\40\127\x48\x45\122\105\x20\x20\165\x6e\151\141\143\151\144\x20\75\40\47{$_W["\165\x6e\151\141\x63\151\x64"]}\x27\40\117\122\104\105\x52\40\102\131\40\40\x6f\x72\144\x65\x72\142\x79\x20\x61\163\143"); goto kt2hY; FzPRu: return $this->successResult(array("\x63\x69\x74\171" => $city, "\x61\162\x65\x61" => $area, "\142\x75\x73\x69\x6e\x65\x73\163" => $business)); goto eqUZ4; YlQJc: $business = pdo_fetchall("\x20\123\x45\x4c\105\x43\124\40\x2a\40\x46\x52\117\115\x20" . tablename(AREA) . "\x20\x57\110\x45\x52\105\40\x20\165\x6e\151\x61\x63\x69\144\40\x3d\40\x27{$_W["\165\x6e\x69\141\x63\151\144"]}\47\40\x20\x61\156\144\x20\160\141\x72\145\156\x74\137\151\x64\40\x3e\x30\x20\117\122\104\x45\122\x20\x42\x59\40\x20\157\x72\144\145\x72\x62\171\x20\141\x73\x63"); goto FzPRu; eqUZ4: } public function doPageGetShopArea() { goto fwocd; lG3I3: $list = Shop::getAreaByCityid($city_id); goto IA1kF; IA1kF: return $this->successResult($list); goto p1vHA; p2UsV: $city_id = intval($_GPC["\143\151\164\171\x5f\x69\x64"]); goto lG3I3; o_PmR: $_W["\x75\x6e\x69\x61\143\151\x64"] = $this->getUniacid(); goto p2UsV; fwocd: global $_W, $_GPC; goto o_PmR; p1vHA: } public function doPageGetShopBusiness() { goto gAZ_J; NCdem: $list = Shop::getBusinessByAreaid($area_id); goto Dbggf; gAZ_J: global $_W, $_GPC; goto OJW8Y; Dbggf: return $this->successResult($list); goto HZULT; OJW8Y: $_W["\x75\x6e\x69\x61\143\x69\x64"] = $this->getUniacid(); goto DLI8N; DLI8N: $area_id = intval($_GPC["\141\x72\x65\x61\x5f\x69\144"]); goto NCdem; HZULT: } public function doPageGetShop() { goto dOF2H; dOF2H: global $_W, $_GPC; goto woyOO; p_alZ: return $this->successResult($data); goto rVPat; woyOO: $_W["\165\156\x69\x61\143\x69\144"] = $this->getUniacid(); goto ChEmb; ChEmb: $shop_id = intval($_GPC["\x73\150\157\x70\137\x69\x64"]); goto ILjdv; ILjdv: $data = Shop::getShopInfo($shop_id); goto p_alZ; rVPat: } public function doPageGetGood() { goto BYbHd; vgKng: $data = Goods::getSingleGood($goods_id, $shop_id); goto KDi1y; C8oyJ: return $this->successResult($data); goto ghJez; hMeJO: $_W["\x75\156\x69\x61\x63\151\x64"] = $this->getUniacid(); goto InMFu; PyIC2: $data["\x74\151\x6d\x65\163\137\x66\154\141\147"] = $ms_status; goto xyMX0; KDi1y: $Wf9gR = !($data["\x69\x73\137\x74\151\x6d\145"] == "\x31"); goto uNOZ8; wSQGF: $data["\164\x69\x6d\x65\154\x61\x73\164\x73\164\x72"] = $arr[0]; goto rIeJM; fJ4Pb: $goods_id = intval($_GPC["\147\x6f\x6f\x64\137\x69\144"]); goto vgKng; InMFu: $shop_id = intval($_GPC["\163\x68\157\x70\x5f\151\x64"]); goto fJ4Pb; uNOZ8: if ($Wf9gR) { goto Qvtbf; } goto In3x_; rIeJM: $data["\164\x69\x6d\145\154\x61\x73\164"] = $arr[1]; goto SX1G3; In3x_: $ms_status = Goods::ms_status($data); goto PyIC2; dKNjy: $changedate = strtotime($date1 . "\40" . $data["\x74\151\155\145\145\x6e\144"] . "\72\60\60\72\x30\60"); goto FOMYO; xyMX0: $date1 = date("\x59\55\155\55\x64", time()); goto dKNjy; FOMYO: $arr = util::time_tran($changedate); goto wSQGF; SX1G3: Qvtbf: goto C8oyJ; BYbHd: global $_W, $_GPC; goto hMeJO; ghJez: } public function doPageGetGood_list() { goto kIzjD; bHvHs: $page = reqInfo::pageIndex(); goto BKJoE; BKJoE: $num = reqInfo::num(); goto K6m9g; D2Uo8: $data = Goods::getAllGood($where, $page, $num); goto TRhu3; kIzjD: global $_W, $_GPC; goto VHpc6; TRhu3: return $this->successResult($data[0]); goto bLzMU; VHpc6: $_W["\x75\156\151\x61\x63\x69\x64"] = $this->getUniacid(); goto bHvHs; K6m9g: $where["\163\x68\157\160\x5f\x69\144"] = intval($_GPC["\x73\x68\157\x70\137\151\x64"]); goto D2Uo8; bLzMU: } public function doPageGetShopList() { goto VznDT; hVD0P: $condition = ''; goto AjvJn; CwMxl: $lat = $_GPC["\154\141\x74"]; goto fgcRL; AjvJn: $yt1HS = !($cate_id > 0); goto dpOzp; u0guN: foreach ($isgroup as $uniqid => $row) { goto izDuz; izDuz: foreach ($row as $key => $value) { $arrSort[$key][$uniqid] = $value; u186I: } goto AGhb3; AGhb3: OI5y6: goto kEecM; kEecM: IgQr5: goto FBMhU; FBMhU: } goto cHul3; Nerz8: p7zRi: goto EZ6ui; IzZ9N: $num = reqInfo::num(); goto g7uQ9; et95a: $page = reqInfo::pageIndex(); goto IzZ9N; puvza: M0mif: goto UkGRk; z37Sr: e14IR: goto r6g_4; OeK7M: if ($C0E4F) { goto e14IR; } goto ONxeW; g7uQ9: $cate_id = intval($_GPC["\x63\x69\144"]); goto hVD0P; cHul3: tDB16: goto k6ch1; kYsH0: foreach ($dis as $k => $arr) { goto rH2dz; pwO8n: oKaoQ: goto s_CnN; rH2dz: $arr["\144\151\x73\164\x61\x6e\x63\145"] = util::getDistance($arr["\x6c\x61\x74"], $arr["\154\156\147"], $lat, $lng); goto FmSg8; FmSg8: $arr["\151\156\143\x6f"] = json_decode($arr["\151\156\143\x6f"]); goto Rcrms; Rcrms: $isgroup[] = $arr; goto pwO8n; s_CnN: } goto Nerz8; fgcRL: $lng = $_GPC["\154\x6e\147"]; goto kYsH0; ONxeW: array_multisort($arrSort[$sort["\x66\151\145\154\144"]], constant($sort["\x64\x69\162\145\x63\x74\x69\157\x6e"]), $isgroup); goto z37Sr; VznDT: global $_W, $_GPC; goto RjeOz; LeZbh: $sort = array("\144\151\x72\145\143\164\151\157\x6e" => "\123\117\122\x54\137\x41\123\103", "\x66\x69\145\154\x64" => "\144\151\163\164\x61\x6e\143\145"); goto u0guN; k6ch1: $C0E4F = !($sort["\144\151\x72\x65\143\x74\x69\x6f\x6e"] && count($isgroup) > 1); goto OeK7M; r6g_4: return $this->successResult($isgroup); goto vO2mm; RjeOz: $_W["\165\x6e\x69\x61\143\151\x64"] = $this->getUniacid(); goto et95a; dpOzp: if ($yt1HS) { goto M0mif; } goto ropMb; UkGRk: $dis = pdo_fetchall("\x53\105\x4c\105\103\124\40\163\56\x2a\x20\x46\x52\117\115\x20" . tablename(SHOP) . "\x20\163\40\x57\x48\105\x52\x45\x20\x20\163\x2e\x75\156\x69\141\x63\151\144\40\x3d\40\47{$_W["\165\156\x69\x61\143\151\x64"]}\x27\40\x20{$condition}\40\x61\156\144\40\x73\56\x73\164\141\164\x75\x73\x20\75\x31\40\40\40\40\117\122\104\105\x52\x20\102\x59\40\157\162\144\145\x72\142\x79\40\154\x69\x6d\151\x74\x20{$page}\54{$num}\x20\40"); goto tfr_L; ropMb: $condition .= "\x20\x61\156\144\40\x73\x2e\x63\x63\141\x74\x65\137\x69\x64\x20\x3d" . $cate_id; goto puvza; tfr_L: $isgroup = array(); goto CwMxl; EZ6ui: $arrSort = array(); goto LeZbh; vO2mm: } public function doPageCheckShopAdmin() { goto quSed; quSed: $_W["\165\156\x69\141\x63\x69\144"] = $this->getUniacid(); goto qLui3; RuZgX: $re = util::getSingelDataInSingleTable(SHOP_APPLY, array("\146\137\164\x79\160\145" => 1, "\155\151\x64" => $mid, "\x75\x6e\151\141\x63\x69\x64" => $_W["\165\156\151\141\x63\151\x64"])); goto ueE9G; d9A98: $mid = $member["\151\144"]; goto cKcyi; H0gVM: return $this->successResult(array("\163\x74\x61\x74\165\163" => 2)); goto cAaGi; ioa_v: AAv7N: goto RuZgX; OLq4t: return $this->successResult(array("\163\x74\x61\x74\165\x73" => 1)); goto ioa_v; zX22j: return $this->successResult(array("\x73\x74\x61\x74\x75\163" => 0, "\x6c\151\163\x74" => $data, "\x75\162\x6c" => $url)); goto eL5W0; Pn88l: $cfg = $this->module["\x63\157\156\x66\x69\147"]; goto i1Tbk; Y0xFw: $url = Util::createModuleUrl("\x73\x68\157\160\137\x61\144\x6d\151\156"); goto zX22j; qLui3: $member = $this->getMemberByOpenid(); goto lzWFh; lzWFh: $openid = $member["\x6f\x70\145\x6e\x69\x64"]; goto Pn88l; cKcyi: $cYEOq = !($cfg["\163\150\x6f\x70\x5f\x65\x6e\x74\145\162"] == 1); goto CGckP; ueE9G: $QGtOD = empty($re); goto aL7tE; CGckP: if ($cYEOq) { goto AAv7N; } goto OLq4t; i1Tbk: $data = Shop::isshop_admin($openid); goto d9A98; cAaGi: Bn2r0: goto Y0xFw; aL7tE: if ($QGtOD) { goto Bn2r0; } goto H0gVM; eL5W0: } public function doPageShop_in() { goto qch8c; ThNYO: $result = commonGetData::insertlog($params); goto wSWZ6; YJuBU: $openid = $userinfo["\x6f\x70\x65\156\151\x64"]; goto eQink; fjAkd: VdSXJ: goto KVnl3; CZIof: $member = Member::getMemberByopenid($openid); goto zkyFb; DUFsT: GmMuQ: goto BYrD2; xTEZZ: return $this->successResult(array("\x73\x74\141\x74\x75\163" => 0)); goto fjAkd; doGWN: GAI9T: goto R1RD7; BYrD2: $mihua_token = reqInfo::mihuatoken(); goto BuD2F; KVnl3: goto dj1JK; goto DUFsT; zkyFb: $mid = $member["\151\144"]; goto So72D; R1RD7: return $this->successResult(array("\x73\x74\141\x74\x75\x73" => 3, "\x72\145\x61\x73\157\x6e" => $res)); goto lXG3D; So72D: $type = intval($_GPC["\x73\150\157\x70\x5f\x72\145\156\x65\x77"]); goto TuqED; vyaH8: $_W["\165\x6e\151\141\143\151\x64"] = $this->getUniacid(); goto e1kJU; Sugxb: if ($res1 > 0 && $status == 1) { goto Oigxf; } goto yLYcH; VwVTS: $res1 = intval($res); goto B9_GX; HVzHJ: Oigxf: goto PlLGM; abV4B: if ($res1 == 0) { goto GAI9T; } goto jYAfZ; ct18O: $res = Shop::editShopInfo($mid, $shop_id, 0); goto VwVTS; qch8c: global $_GPC, $_W; goto vyaH8; WB1UT: if ($M0dFY) { goto VdSXJ; } goto xTEZZ; BuD2F: $tid = reqInfo::gettokenOrsn("\162\x65\x6e\145\x77" . $ordersn, $mihua_token); goto iDAop; wSWZ6: $v7xsM = !($result == 1); goto DhKrd; jYAfZ: goto dj1JK; goto HVzHJ; maMjG: $userinfo = $this->getMemberByOpenid(); goto YJuBU; yLYcH: if ($res1 > 0 && $status == 0) { goto GmMuQ; } goto abV4B; TWfxW: $status = $renewData[1]; goto ct18O; ZI3WJ: $M0dFY = !($res == 1); goto WB1UT; fk6UY: $price = $renewData[0]; goto TWfxW; eKEFQ: goto dj1JK; goto doGWN; lXG3D: dj1JK: goto HgP85; gSmgi: return $this->successResult(array("\163\164\x61\x74\x75\x73" => 0, "\x6f\162\144\x65\x72\x73\x6e" => $tid)); goto xOFTl; B9_GX: $ordersn = Shop::insertRenew($type, $status, $price, $cfg, 0, $res1, $mid); goto Sugxb; TuqED: $renewData = Shop::getShopRenewPrice($type, $cfg); goto fk6UY; xOFTl: Gmag2: goto eKEFQ; DhKrd: if ($v7xsM) { goto Gmag2; } goto gSmgi; iDAop: $params = array("\164\x69\144" => $tid, "\164\151\x74\x6c\x65" => $_GPC["\x73\150\x6f\x70\137\156\141\x6d\x65"] . "\x2d\55\xe5\x95\206\xe6\x88\xb7\345\205\xa5\351\xa9\273\xe7\xbc\xb4\350\264\271", "\146\145\145" => $price, "\165\163\x65\162" => $openid); goto ThNYO; PlLGM: $res = Shop::shopFreeRenew($shop_id, $member["\x6e\151\x63\153\x6e\x61\x6d\x65"]); goto ZI3WJ; e1kJU: $cfg = $this->module["\143\x6f\156\146\151\x67"]; goto maMjG; eQink: $shop_id = intval($_GPC["\x73\x68\157\x70\137\x69\x64"]); goto CZIof; HgP85: } public function doPageGetDiscount() { goto min1v; min1v: global $_GPC, $_W; goto vSSYM; Y1QMl: return $this->successResult($discount[0]); goto V1lMD; Ba1tX: $num = reqInfo::num(); goto itiQC; HnE1Q: $page = reqInfo::pageIndex(); goto Ba1tX; V94mQ: $discount = Util::getAllDataInSingleTable(DISCOUNT, $where, $page, $num); goto Y1QMl; vSSYM: $_W["\165\x6e\151\x61\x63\151\x64"] = $this->getUniacid(); goto HnE1Q; itiQC: $shop_id = intval($_GPC["\x73\x68\157\160\x5f\151\x64"]); goto pTHtt; pTHtt: $where["\163\x68\x6f\x70\137\151\x64"] = $shop_id; goto V94mQ; V1lMD: } public function doPageGetDisOrsn() { goto rM4El; ugwZl: $v7xsM = !($result == 1); goto POq1u; dTMYN: $in = array(); goto VzLhl; I9u10: $d_id = intval($_GPC["\144\x5f\x69\144"]); goto LOewO; gIOje: $params = array("\164\x69\x64" => $tid, "\157\162\x64\145\x72\x73\156" => $ordersn, "\x74\x69\x74\x6c\x65" => $shop_name . "\x2d\55\xe4\274\230\xe6\x83\240\xe4\271\xb0\xe5\x8d\x95", "\x66\x65\145" => $in["\160\141\171\155\x6f\x6e\x65\x79"], "\165\x73\x65\162" => $userinfo["\x6f\x70\x65\x6e\151\x64"]); goto pfFB1; LOewO: $paynum = floatval($_GPC["\x70\141\x79\156\x75\x6d"]); goto zjbO4; POq1u: if ($v7xsM) { goto nSDhg; } goto dcdIe; b54ue: $shop_id = floatval($_GPC["\163\x68\157\x70\x5f\x69\144"]); goto I9u10; EFO5s: $ordersn = util::getordersn(DISCOUNT_RE); goto VR1mW; VzLhl: $in["\165\x6e\151\141\143\151\144"] = $_W["\x75\x6e\x69\141\143\x69\x64"]; goto YSvPw; dcdIe: return $this->successResult(array("\x73\164\x61\x74\165\x73" => 0, "\x6f\x72\144\145\x72\x73\x6e" => $tid)); goto ZG3J3; YSvPw: $in["\157\x72\x64\x65\x72\163\x6e"] = $ordersn; goto PdhBM; VR1mW: $userinfo = $this->getMemberByOpenid(); goto b54ue; X4FUD: pdo_insert(DISCOUNT_RE, $in); goto UIGJR; ZG3J3: nSDhg: goto RjX2P; zjbO4: $paymoney = floatval($_GPC["\x70\141\x79\x6d\x6f\x6e\x65\x79"]); goto dTMYN; PdhBM: $in["\155\x69\x64"] = $userinfo["\151\144"]; goto Y8lFg; Y8lFg: $in["\141\146\164\145\x72\x6d\x6f\156\x65\x79"] = $paynum; goto gFsJT; Ep48P: $in["\143\162\145\141\x74\x65\x74\x69\x6d\145"] = TIMESTAMP; goto OOFSe; OOFSe: $in["\163\x68\157\x70\137\151\x64"] = $shop_id; goto Yt97k; Yt97k: $in["\144\151\x73\x63\157\165\156\x74\137\x69\144"] = $d_id; goto X4FUD; wDTl_: $shop_name = Shop::getShop_name($shop_id); goto gIOje; gFsJT: $in["\x70\x61\x79\155\157\156\145\171"] = $paymoney; goto Ep48P; ok0CH: $mihua_token = reqInfo::mihuatoken(); goto gznwY; gznwY: $tid = reqInfo::gettokenOrsn("\x64\151\163" . $id, $mihua_token); goto wDTl_; pfFB1: $result = commonGetData::insertlog($params); goto ugwZl; rM4El: global $_W, $_GPC; goto wUB0I; UIGJR: $id = pdo_insertid(); goto ok0CH; wUB0I: $_W["\165\x6e\151\x61\x63\x69\144"] = $this->getUniacid(); goto EFO5s; RjX2P: } public function doPageMyDiscount() { goto zo3Mw; jrxcQ: $page = reqInfo::page(); goto b49xS; djJaY: $_W["\x75\x6e\151\141\143\151\144"] = $this->getUniacid(); goto dlV1h; tcyxr: return $this->successResult(array("\163\164\141\164\x75\x73" => 0, "\154\151\x73\x74" => $list)); goto TW6Z_; jF8pR: foreach ($list as $k => $v) { goto rFfci; rFfci: $v["\143\162\x65\x61\x74\145\164\x69\x6d\145"] = date("\131\x2d\155\x2d\x64\40\110\x3a\x69", $v["\143\x72\145\x61\x74\145\164\x69\155\x65"]); goto cRZMp; RsGHx: kvZK3: goto arbVY; IkflK: $info[] = $v; goto RsGHx; cRZMp: $v["\x6c\157\147\x6f"] = $_W["\x61\164\x74\x61\143\150\x75\162\x6c"] . $v["\x6c\x6f\147\157"]; goto IkflK; arbVY: } goto it1sC; dlV1h: $userinfo = $this->getMemberByOpenid(); goto jrxcQ; jlrQx: $sqlwhere = "\40\x61\x6e\144\40\162\56\x69\144\75" . $id; goto ymNei; jvSi2: $info = array(); goto jF8pR; OxRR2: $id = $_GPC["\x69\x64"]; goto urgYo; b49xS: $num = reqInfo::num(); goto OxRR2; urgYo: $ttdz1 = !($id > 0); goto Rzel3; it1sC: nmpBD: goto tcyxr; ZT91h: $list = $data[0]; goto jvSi2; Rzel3: if ($ttdz1) { goto LW4XO; } goto jlrQx; vDpEd: $data = commonGetData::getDiscount($page, $num, $userinfo["\x69\x64"], $sqlwhere); goto ZT91h; ymNei: LW4XO: goto vDpEd; zo3Mw: global $_GPC, $_W; goto djJaY; TW6Z_: } public function doPageGetOrderOrsn() { } public function doPageGetRedOrsn() { } public function doPagePay() { goto YDRE3; RTUJa: $mihua_token = reqInfo::mihuatoken(); goto ls89m; I7KJ9: $order = array("\x74\x69\144" => $tid, "\165\163\x65\x72" => $openid, "\x66\x65\145" => floatval($_GPC["\163\165\x6d"]), "\x74\151\164\154\x65" => $_W["\141\x63\143\x6f\165\x6e\x74"]["\156\141\x6d\145"] . "\xe6\x94\257\344\xbb\x98"); goto cE8Ov; HdKE3: return $this->result(1, $pay_params, $_W["\157\160\x65\156\151\144"]); goto P59R2; Zgomn: if ($VUpcO) { goto QKsPj; } goto HdKE3; P59R2: QKsPj: goto I27gJ; ls89m: $tid = reqInfo::gettokenOrsn($_GPC["\x6f\x72\x64\x65\162\163\156"], $mihua_token); goto I7KJ9; XfX20: $VUpcO = !is_error($pay_params); goto Zgomn; cE8Ov: $pay_params = $this->pay($order); goto XfX20; I27gJ: return $this->result(0, '', $pay_params); goto Bhmx6; YDRE3: global $_GPC, $_W; goto bw2j_; bw2j_: $_W["\157\160\145\x6e\x69\x64"] = $openid = $this->getUserBySeid(); goto RTUJa; Bhmx6: } public function payResult($result) { goto UIP0U; ufK5T: $checkReq = $PayResult->checkReq($params); goto i0997; Z9EVf: $PayResult->payresult_zd($params, $paydetail, $logtag, 1); goto EmqIX; AG5gw: if ($NqgT2) { goto luBIC; } goto eqeXn; o4Cpd: mImPs: goto PkvME; orCR7: mnz6_: goto f4OkB; nQXXL: if ($ordersnlen == 15) { goto uvicp; } goto GRME8; HCjxQ: goto cAwvw; goto M9rk7; hTarV: $PayResult = new PayResult(); goto xOZhP; zjvC7: $acid = $this->getUniacid(); goto YKUhI; YKUhI: $token = reqInfo::gettoken(); goto VV2Np; RchlJ: if ($jDOwn) { goto mnz6_; } goto Lwlme; tn8v0: $jDOwn = !($pay_orsn == ''); goto RchlJ; GRME8: if ($ordersnlen == 20) { goto p8cMX; } goto hW09i; ENsIK: $logtag = unserialize($log["\164\x61\147"]); goto ufK5T; QxBDG: uvicp: goto NyFXM; vPxXo: if ($Q7ydu) { goto mImPs; } goto JYnte; UIP0U: global $_W, $_GPC; goto zjvC7; iGQIj: $ordersnlen = strlen($params["\x74\151\x64"]); goto hTarV; VV2Np: $NqgT2 = !($token == ''); goto AG5gw; pZY_O: $PayResult->payresult_order($params, 1); goto aljHg; NyFXM: $PayResult->payresult_info($params, $paydetail, $logtag, 1); goto KYcg2; InjRb: luBIC: goto mrLyO; ucRxA: KJJjd: goto pZY_O; nP_VE: $id = $params["\x74\151\x64"]; goto iGQIj; KYcg2: goto fqpih; goto wTbCk; jUz9g: $Q7ydu = !($params["\x72\145\x73\165\154\x74"] == "\163\x75\143\143\x65\x73\x73" && $params["\x66\162\157\155"] == "\x6e\157\164\x69\x66\171"); goto vPxXo; X4UaZ: $params["\x74\151\x64"] = $pay_orsn; goto nP_VE; aljHg: goto fqpih; goto QxBDG; Lwlme: return; goto orCR7; eqeXn: return; goto InjRb; Zqznj: return; goto eIJ_8; f4OkB: $params = $result; goto X4UaZ; sd0GQ: if ($YcJdr) { goto ryr3D; } goto Zqznj; i0997: $YcJdr = !($checkReq == 0); goto sd0GQ; eIJ_8: ryr3D: goto jUz9g; wTbCk: p8cMX: goto Z9EVf; u0KW_: $PayResult->payresult_dis($params, 1); goto oJDyh; EmqIX: fqpih: goto HCjxQ; M9rk7: jR3rx: goto u0KW_; oJDyh: cAwvw: goto o4Cpd; JYnte: if (strstr($id, "\144\x69\x73")) { goto jR3rx; } goto fvc5Y; xOZhP: $log = Util::getSingelDataInSingleTable("\x63\157\162\145\x5f\160\141\171\x6c\x6f\x67", array("\x6d\x6f\x64\165\154\145" => "\171\143\137\x79\157\165\154\x69\x61\x6f", "\x74\x69\144" => $params["\x74\x69\x64"])); goto kGl3I; mrLyO: $pay_orsn = reqInfo::gettokenNum($result["\164\151\144"], $token); goto tn8v0; hW09i: goto fqpih; goto ucRxA; kGl3I: $paydetail = $log["\x74\141\147"]; goto ENsIK; fvc5Y: if (strstr($id, "\157\x72\x73\x6e")) { goto KJJjd; } goto nQXXL; PkvME: } }